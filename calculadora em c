#include <stdio.h>
#include <stdlib.h>

int ter1, ter2, result, s;
char escfin;

void entrada(){
    printf("Digite o primeiro numero: ");
    scanf(" %d", &ter1);
    printf("Digite o segundo numero: ");
    scanf(" %d", &ter2);
}

int final(){
    printf("\nDeseja realizar outra operacao? (s/n): ");
    scanf(" %c", &escfin);
    switch(escfin){
        case 's':
        s=1;
        return s;

        case 'n':
        s=0;
        return s;

        default:
        printf("Resposta invalida. Por favor, digite 's' para sim ou 'n' para nao.");
        final();
    }
}
void soma(){
    entrada();
    result = ter1+ter2;
}

void sub(){
    entrada();
    result=ter1-ter2;
}

void mult(){
    entrada();
    result=ter1*ter2;
}

void divi(){
    entrada();
    if (ter2==0){
        result=0;
    }
    else{
        result=ter1/ter2;
    }
}

void op5(){
    printf("Obrigado por usar a calculadora! Ate a proxima");
}

int main(){

    #ifdef _WIN32
    system("cls");
#else
    system("clear");
#endif

    printf("===================================================\n\t>>>>> Calculadora <<<<<\n\t\t>>>>> Simples <<<<<\n===================================================\n");
    printf("Selecione uma operacao:\n1. Adicao\n2. Subtracao\n3. Multiplicacao\n4. Divisao\n5. Sair\nOpcao: ");
    int escin;
    scanf("%d", &escin);
    switch (escin)
    {
    case 1:
    soma();
    printf("O resultado eh: %d + %d = %d", ter1, ter2, result);
    break;
    
    case 2:
    sub();
    printf("O resultado eh: %d - %d = %d", ter1, ter2, result);
    break;

    case 3:
    mult();
    printf("O resultado eh: %d * %d = %d", ter1, ter2, result);
    break;

    case 4:
    divi();
    if (ter2==0){
        printf("Erro: nao eh possivel dividir por 0");
        final();
    }
    else{
        printf("O resultado eh: %d / %d = %d", ter1, ter2, result);
    }
    break;

    case 5:
    op5();
    return 0;
    }

    final();
    if (s==1){
        main();
    }
    else{
        printf("Obrigado por usar a calculadora! Ate a proxima");
    }
}
